<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baralho do Capitão (TCC)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Metal+Mania&family=Inter:wght@400;600&family=Lora:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-image: url('https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/Background_OP.jpg');
            background-size: cover;
            background-attachment: fixed;
            background-position: center center;
            padding: 2rem 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .font-brand {
            font-family: 'Metal Mania', cursive;
            letter-spacing: 0.1em;
        }
        .font-lora {
            font-family: 'Lora', serif;
        }

        .ship-deck {
            background-color: rgba(90, 61, 43, 0.95);
            background-image: url('https://www.transparenttextures.com/patterns/wood-pattern.png');
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5), inset 0 0 15px rgba(0,0,0,0.7);
            max-width: 1024px;
            width: 95%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- CSS DA CARTA MODIFICADO --- */
        .card-preview {
            background-color: #fdf6e3; /* Cor de fundo caso a imagem falhe */
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 3px solid #c8a464;
            
            position: relative; /* Para sobrepor o texto */
            aspect-ratio: 10 / 17; /* Proporção da carta (altura maior que largura) */
            overflow: hidden; /* Garante que a imagem fique dentro das bordas */
            
            /* Remove estilos antigos de alinhamento de ícone */
            /* display: flex; */
            /* align-items: center; */
            /* justify-content: center; */
            /* height: 160px; */
        }
        /* --- FIM DA MODIFICAÇÃO --- */


        .card-preview:hover {
            transform: translateY(-8px) scale(1.04);
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.3);
        }

        .modal-card {
            background-color: #f5e6c8;
            border-radius: 0.5rem;
            width: 100%;
            max-width: 450px;
            height: 95vh;
            max-height: 600px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            display: flex;
            flex-direction: column;
            border: 12px solid #5a3d2b;
            border-style: double;
        }
        
        .story-content {
            flex-grow: 1;
            width: 100%;
            overflow-y: auto;
            color: #4a2c2a; 
            padding-right: 0.5rem;
        }
        
        .question-list { list-style: none; padding: 0; margin-top: 1rem; }
        .question-list li {
            background-color: rgba(136, 103, 75, 0.1);
            padding: 0.8rem;
            border-radius: 0.35rem;
            margin-bottom: 0.6rem;
            border-left: 5px solid #88674b;
            line-height: 1.6;
            font-size: 1.05rem;
        }

        .story-content::-webkit-scrollbar { width: 8px; }
        .story-content::-webkit-scrollbar-track { background: #d4b57f; border-radius: 10px; }
        .story-content::-webkit-scrollbar-thumb { background: #88674b; border-radius: 10px; }
        .story-content::-webkit-scrollbar-thumb:hover { background: #5a3d2b; }

        .watermark {
            position: fixed;
            bottom: 10px;
            right: 15px;
            font-family: 'Cinzel', serif;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.5);
            pointer-events: none;
            z-index: 1000;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }
        
        #vignette-effect {
            position: fixed;
            inset: 0;
            background: radial-gradient(circle 500px at top right, rgba(0, 0, 0, 0.4), transparent);
            z-index: 10;
            pointer-events: none;
        }
        #vertical-credits {
            position: fixed;
            bottom: 110px;
            right: 18px;
            writing-mode: vertical-rl;
            transform: rotate(180deg);
            z-index: 40;
            color: rgba(253, 230, 138, 0.3); /* AJUSTADO: Mais escuro */
            font-size: 0.8rem;
        }
        #vertical-credits a {
            font-weight: bold;
            color: rgba(253, 230, 138, 0.8);
            transition: color 0.2s ease;
        }
        #vertical-credits a:hover {
            color: white;
        }
        @media (max-width: 768px) {
            #vertical-credits {
                display: none;
            }
        }
    </style>
<script src="seguranca.js" defer></script>
</head>
<body>

    <main class="ship-deck">
        <div class="text-center mb-8">
            <div class="bg-[#5a3d2b] py-3 px-6 rounded-md shadow-lg border-2 border-[#c8a464] inline-flex items-center gap-4">
                <i data-lucide="swords" class="w-8 h-8 text-yellow-300"></i> <h1 class="font-brand text-3xl font-bold text-yellow-300" style="text-shadow: 2px 2px 4px #000;">
                    Baralho do Capitão
                </h1>
                <i data-lucide="swords" class="w-8 h-8 text-yellow-300"></i> </div>
        </div>

        <p class="text-white text-opacity-100 mb-8 text-center max-w-2xl mx-auto text-lg" style="text-shadow: 1px 1px 2px #000;">
            Navegue pelas correntes da Grand Line e explore as profundezas de suas emoções. Cada carta é um desafio.
        </p>
    <div id="deck-panel" class="grid w-full grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4" style="align-items: start;">
            </div>
    </main>
    
    <div id="card-modal" class="fixed inset-0 bg-black bg-opacity-75 z-50 hidden flex items-center justify-center p-4" onclick="closeModal(event)">
        <div id="modal-content-area" class="modal-card" onclick="event.stopPropagation()">
            <div id="modal-bottom-area" class="w-full mt-auto pt-4">
                <button onclick="document.getElementById('card-modal').classList.add('hidden')" class="w-full bg-[#8c1c13] text-white py-3 rounded-lg font-bold hover:bg-[#6d160f] transition flex items-center justify-center font-brand text-lg">
                    <i data-lucide="sailing-boat" class="w-5 h-5 mr-3"></i>
                    Retornar à Frota
                </button>
            </div>
        </div>
    </div>
    
    <div id="vignette-effect"></div>

    <a href="https://www.instagram.com/gabrielopsicologo" target="_blank" class="fixed top-2 right-2 z-50 transition-transform duration-300 hover:scale-110">
        <img src="https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/Logo_branca.png" alt="Logo Gabriel Psicólogo" class="h-28 drop-shadow-lg">
    </a>

    <a href="https://wa.me/message/WV34TWMSKTEEL1" target="_blank" title="Precisa de Ajuda?" class="fixed bottom-6 right-6 bg-[#128C7E] text-white p-4 rounded-full shadow-lg hover:bg-[#075E54] transition z-50">
        <i data-lucide="message-circle" class="w-6 h-6"></i>
    </a>

    <div id="vertical-credits">
        <p>
            Recurso terapêutico por  
            <a href="https://www.instagram.com/gabrielopsicologo" target="_blank">
                @gabrielopsicologo
            </a>
        </p>
    </div>
    
    <script>
        // --- INÍCIO DA ÁREA DE EDIÇÃO ---
        // ADICIONE OS LINKS DAS SUAS IMAGENS DO GITHUB AQUI
        // Crie uma pasta "cards" no seu repositório "Jogos-terapeuticos" e suba as imagens nela.
        const DECK = [
            { theme: "Ajuda e Apoio", icon: "hand-heart", iconColor: "text-blue-700", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/C_Nami.jpg", situation: "<strong>Nami e Arlong Park:</strong> Após anos tentando resolver tudo sozinha, Nami é traída e perde a esperança. Em desespero, ela finalmente grita para Luffy: 'Me ajuda'. --- O que você acha que ela sentiu nesse momento de rendição? Para você, pedir ajuda é um ato de fraqueza ou de força? Já houve um momento em que pedir ajuda foi a coisa mais corajosa que você fez?" },
            { theme: "Propósito e Sonhos", icon: "target", iconColor: "text-yellow-700", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/C_Zoro.jpg", situation: "<strong>A Promessa de Zoro:</strong> Após ser humilhado por Mihawk, Zoro chora e jura a Luffy que nunca mais irá perder uma luta. Ele dedica cada momento de sua vida a esse objetivo. --- O que a dor da derrota ensinou a Zoro sobre seu sonho? Ter um objetivo claro como o de Zoro ajuda a superar os dias difíceis? Qual é o 'sonho' que te move, mesmo quando as coisas parecem impossíveis?" },
            { theme: "Conexões e Lealdade", icon: "users", iconColor: "text-purple-700", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/C_Robin.jpg", situation: "<strong>Robin e Enies Lobby:</strong> Acreditando ser um fardo, Nico Robin se entrega. Luffy e seu bando declaram guerra ao mundo por ela, fazendo-a gritar: 'Eu quero viver!'. --- Imagine o que Robin sentiu ao ver seus amigos arriscando tudo por ela. Você já se sentiu um fardo para alguém? O que significa 'lealdade' para você?" },
            { theme: "Luto e Despedida", icon: "flame", iconColor: "text-red-700", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/C_Merry.jpg", situation: "<strong>O Funeral do Going Merry:</strong> O primeiro navio dos Chapéus de Palha não pode mais navegar. O bando se despede, queimando-o no mar, como um funeral para um verdadeiro companheiro. --- A despedida do Merry foi como perder um amigo. Como lidamos com a dor de perder algo ou alguém importante? Guardar boas memórias pode nos ajudar a seguir em frente?" },
            { theme: "Coragem e Vulnerabilidade", icon: "crosshair", iconColor: "text-green-700", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/C_Usopp.jpg", situation: "<strong>As Mentiras de Usopp:</strong> Usopp é medroso e conta histórias para se sentir corajoso. Mas, quando precisa, ele coloca a máscara de 'Sogeking' e encontra a coragem para lutar. --- Por que você acha que Usopp precisava de uma 'máscara' para ser corajoso? O medo pode ser útil em algumas situações? Pense em um momento em que você agiu apesar do medo. O que te deu forças?" },
            { theme: "Valores Pessoais", icon: "chef-hat", iconColor: "text-black", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/C_Sanji.jpg", situation: "<strong>A Comida de Sanji:</strong> Sanji encontra um inimigo faminto e o alimenta, pois seu valor como cozinheiro é dar comida a quem tem fome, sem exceção. --- A atitude de Sanji foi guiada por um valor muito forte. Quais são os valores que guiam suas próprias ações? Já teve que defender um valor seu, mesmo que fosse difícil?" },
            { theme: "Identidade e Autenticidade", icon: "star", iconColor: "text-pink-600", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/C_Chopper.jpg", situation: "<strong>A Identidade de Chopper:</strong> Por ser uma rena-humana, Chopper se via como um monstro. Luffy o convida para o bando justamente por ele ser diferente e único. --- A reação de Luffy mudou a forma como Chopper se via. Como a aceitação dos outros impacta a forma como nos vemos? O que em você é 'diferente' e que aprendeu a amar?" },
            { theme: "Liberdade e Autonomia", icon: "anchor", iconColor: "text-orange-500", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/C_Luffy.jpg", situation: "<strong>O Soco no Dragão Celestial:</strong> Luffy soca um 'Nobre Mundial' para defender um amigo, mesmo sabendo das consequências terríveis. Para ele, a liberdade é inegociável. --- O que a palavra 'liberdade' significa para você? Existem situações em que vale a pena quebrar as regras para defender o que é certo? O que te faz sentir verdadeiramente livre?" }, 
            { theme: "Esperança e Resiliência", icon: "compass", iconColor: "text-gray-700", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/C_Brook.jpg", situation: "<strong>A Promessa de Brook:</strong> Brook viveu 50 anos sozinho. A única coisa que o manteve são foi a promessa de reencontrar sua amiga, a baleia Laboon. --- Como uma promessa pôde sustentar Brook por tanto tempo? A esperança pode ser uma ferramenta para sobreviver a momentos difíceis? Qual 'promessa' ou objetivo te ajuda a continuar navegando?" },
            { theme: "Legado e Memória", icon: "book-open", iconColor: "text-amber-700", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/C_Hiluluk.jpg", situation: "<strong>A Cura de Hiluluk:</strong> Dr. Hiluluk deu sua vida para criar uma cura simbólica: cerejeiras que florescem na neve para curar o 'coração doente' do seu país. --- Hiluluk disse: 'Um homem só morre quando é esquecido'. O que ele quis dizer com isso? Que tipo de 'marca' ou legado você gostaria de deixar para as pessoas ao seu redor?" }
        ];
        // --- FIM DA ÁREA DE EDIÇÃO ---


        function openModal(index) {
            const data = DECK[index];
            const modalContent = document.getElementById('modal-content-area');
            const bottomArea = document.getElementById('modal-bottom-area');

            const parts = data.situation.split('---');
            const description = parts[0];
            const questions = parts[1].split('?').filter(q => q.trim() !== '');
            const questionsHtml = questions.map(q => `<li>${q.trim()}?</li>`).join('');

            // O CONTEÚDO DO MODAL (A PARTE DE TRÁS DA CARTA) NÃO FOI ALTERADO
            const dynamicContent = `
                <div class="text-center border-b-4 border-dashed border-[#88674b] pb-2">
                    <h2 class="font-brand text-4xl font-black text-[#5a3d2b]">PROCURADO</h2>
                </div>
                <div class="flex flex-col items-center my-4">
                    <i data-lucide="${data.icon}" class="w-16 h-16 ${data.iconColor} mb-2"></i>
                    <h3 class="font-brand text-3xl font-bold text-gray-800">${data.theme}</h3>
                </div>
                <div class="story-content">
                    <p class="font-lora text-base leading-relaxed mb-4">${description}</p>
                    <h4 class="font-lora text-xl font-bold text-[#8c5a2b] border-t border-[#d4b57f] pt-2 mt-4">Reflexões do Log Pose:</h4>
                    <ul class="question-list" style="font-family: 'Inter', sans-serif;">${questionsHtml}</ul>
                </div>
            `;
            
            modalContent.innerHTML = dynamicContent + bottomArea.outerHTML;
            document.getElementById('card-modal').classList.remove('hidden');
            lucide.createIcons();
        }

        function closeModal(event) {
            if (event.target.id === 'card-modal') {
                document.getElementById('card-modal').classList.add('hidden');
            }
        }
        
        function renderDeckPanel() {
            const panel = document.getElementById('deck-panel');
            if (!panel) return;

            panel.innerHTML = ''; 

            DECK.forEach((card, index) => {
                const cardWrapper = document.createElement('div');
                cardWrapper.className = 'card-preview';
                cardWrapper.onclick = () => openModal(index);
                cardWrapper.setAttribute('title', `Carta: ${card.theme}`); // Boa prática de acessibilidade

                // --- ESTA É A PARTE MODIFICADA (O NOVO DESIGN DA FRENTE DA CARTA) ---
                const cardContent = `
                    <img src="${card.imageUrl}" alt="Carta: ${card.theme}" class="absolute inset-0 w-full h-full object-cover z-0" onerror="this.style.display='none'">
                    <div class="absolute inset-0 w-full h-full bg-[#fdf6e3] z-[-1]"></div> 
                    
                    <div class="absolute bottom-0 left-0 right-0 w-full p-2 z-10">
                        <div class="bg-[#fdf6e3] py-2 px-1" style="border-top: 3px solid #5a3d2b; border-bottom: 3px solid #5a3d2b;">
                            <h3 class="font-brand text-base md:text-lg font-bold text-[#4a2c2a] text-center uppercase">
                                ${card.theme}
                            </h3>
                        </div>
                    </div>
                `;
                // --- FIM DA PARTE MODIFICADA ---

                cardWrapper.innerHTML = cardContent;
                panel.appendChild(cardWrapper);
            });
            
            lucide.createIcons();
        }

        document.addEventListener('DOMContentLoaded', function() {
            renderDeckPanel();
            lucide.createIcons();
        });
    </script>
</body>
</html>