<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baralho das emo√ß√µes (DEMO)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Metal+Mania&family=Inter:wght@400;600&family=Lora:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-image: url('https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/BK_Emocoes.jpg');
            background-size: cover;
            background-attachment: fixed;
            background-position: center center;
            padding: 2rem 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .font-brand {
            font-family: 'Metal Mania', cursive;
            letter-spacing: 0.1em;
        }
        .font-lora {
            font-family: 'Lora', serif;
        }

        .ship-deck {
            background-color: rgba(90, 61, 43, 0.95);
            background-image: url('https://www.transparenttextures.com/patterns/wood-pattern.png');
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5), inset 0 0 15px rgba(0,0,0,0.7);
            max-width: 1024px;
            width: 95%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- CSS DA CARTA MODIFICADO --- */
        .card-preview {
            background-color: #fdf6e3; /* Cor de fundo caso a imagem falhe */
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 3px solid #c8a464;
            
            position: relative; /* Para sobrepor o texto */
            aspect-ratio: 10 / 17; /* Propor√ß√£o da carta (altura maior que largura) */
            overflow: hidden; /* Garante que a imagem fique dentro das bordas */
            
            /* Remove estilos antigos de alinhamento de √≠cone */
            /* display: flex; */
            /* align-items: center; */
            /* justify-content: center; */
            /* height: 160px; */
        }
        /* --- FIM DA MODIFICA√á√ÉO --- */


        .card-preview:hover {
            transform: translateY(-8px) scale(1.04);
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.3);
        }

        .modal-card {
            background-color: #f5e6c8;
            border-radius: 0.5rem;
            width: 100%;
            max-width: 450px;
            height: 95vh;
            max-height: 600px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            display: flex;
            flex-direction: column;
            border: 12px solid #5a3d2b;
            border-style: double;
        }
        
        .story-content {
            flex-grow: 1;
            width: 100%;
            overflow-y: auto;
            color: #4a2c2a; 
            padding-right: 0.5rem;
        }
        
        .question-list { list-style: none; padding: 0; margin-top: 1rem; }
        .question-list li {
            background-color: rgba(136, 103, 75, 0.1);
            padding: 0.8rem;
            border-radius: 0.35rem;
            margin-bottom: 0.6rem;
            border-left: 5px solid #88674b;
            line-height: 1.6;
            font-size: 1.05rem;
        }

        .story-content::-webkit-scrollbar { width: 8px; }
        .story-content::-webkit-scrollbar-track { background: #d4b57f; border-radius: 10px; }
        .story-content::-webkit-scrollbar-thumb { background: #88674b; border-radius: 10px; }
        .story-content::-webkit-scrollbar-thumb:hover { background: #5a3d2b; }

        .watermark {
            position: fixed;
            bottom: 10px;
            right: 15px;
            font-family: 'Cinzel', serif;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.5);
            pointer-events: none;
            z-index: 1000;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }
        
        #vignette-effect {
            position: fixed;
            inset: 0;
            background: radial-gradient(circle 500px at top right, rgba(0, 0, 0, 0.4), transparent);
            z-index: 10;
            pointer-events: none;
        }
        #vertical-credits {
            position: fixed;
            bottom: 110px;
            right: 18px;
            writing-mode: vertical-rl;
            transform: rotate(180deg);
            z-index: 40;
            color: rgba(253, 230, 138, 0.3); /* AJUSTADO: Mais escuro */
            font-size: 0.8rem;
        }
        #vertical-credits a {
            font-weight: bold;
            color: rgba(253, 230, 138, 0.8);
            transition: color 0.2s ease;
        }
        #vertical-credits a:hover {
            color: white;
        }
        @media (max-width: 768px) {
            #vertical-credits {
                display: none;
            }
        }
    </style>
<script src="seguranca.js" defer></script>
</head>
<body>

    <div class="fixed top-2 left-2 z-50 bg-black/40 text-white/70 px-2 py-0.5 rounded text-xs backdrop-blur-[2px]">
        Vers√£o Demonstrativa (4 de 10 cartas dispon√≠veis)
    </div>
    <main class="ship-deck">
        <div class="text-center mb-8">
            <div class="bg-[#5a3d2b] py-3 px-6 rounded-md shadow-lg border-2 border-[#c8a464] inline-flex items-center gap-4">
                <i data-lucide="smile" class="w-8 h-8 text-yellow-300"></i> <h1 class="font-brand text-3xl font-bold text-yellow-300" style="text-shadow: 2px 2px 4px #000;">
                    Baralho das emo√ß√µes
                </h1>
                <i data-lucide="angry" class="w-8 h-8 text-yellow-300"></i> </div>
        </div>

        <p class="text-white text-opacity-100 mb-8 text-center max-w-2xl mx-auto text-lg" style="text-shadow: 1px 1px 2px #000;">
            Trace a sua rota pelo mapa da vida e explore as profundezas das suas emo√ß√µes. Em suas m√£os, cada carta marca o pr√≥ximo desafio.
        </p>
    <div id="deck-panel" class="grid w-full grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4" style="align-items: start;">
            </div>

    <a href="https://gabrielopsicologo.com/psicoquest" target="_blank" class="mt-10 inline-block bg-yellow-500/10 border-2 border-yellow-500 text-yellow-400 font-brand text-xl rounded-lg px-8 py-3 transition-all duration-300 hover:bg-yellow-500/20 hover:text-white hover:border-yellow-300 hover:shadow-lg" style="text-shadow: 1px 1px 2px #000;">
        üîì Desbloquear vers√£o completa (10 cartas)
    </a>
    </main>
    
    <div id="card-modal" class="fixed inset-0 bg-black bg-opacity-75 z-50 hidden flex items-center justify-center p-4" onclick="closeModal(event)">
        <div id="modal-content-area" class="modal-card" onclick="event.stopPropagation()">
            <div id="modal-bottom-area" class="w-full mt-auto pt-4">
                <button onclick="document.getElementById('card-modal').classList.add('hidden')" class="w-full bg-[#8c1c13] text-white py-3 rounded-lg font-bold hover:bg-[#6d160f] transition flex items-center justify-center font-brand text-lg">
                    <i data-lucide="sailing-boat" class="w-5 h-5 mr-3"></i>
                    Retornar ao Baralho
                </button>
            </div>
        </div>
    </div>
    
    <div id="vignette-effect"></div>

    <a href="https://www.instagram.com/gabrielopsicologo" target="_blank" class="fixed top-2 right-2 z-50 transition-transform duration-300 hover:scale-110">
        <img src="https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/Logo_branca.png" alt="Logo Gabriel Psic√≥logo" class="h-28 drop-shadow-lg">
    </a>

    <a href="https://wa.me/message/WV34TWMSKTEEL1" target="_blank" title="Precisa de Ajuda?" class="fixed bottom-6 right-6 bg-[#128C7E] text-white p-4 rounded-full shadow-lg hover:bg-[#075E54] transition z-50">
        <i data-lucide="message-circle" class="w-6 h-6"></i>
    </a>

    <div id="vertical-credits">
        <p>
            Recurso terap√™utico por  
            <a href="https://www.instagram.com/gabrielopsicologo" target="_blank">
                @gabrielopsicologo
            </a>
        </p>
    </div>
    
    <script>
        // --- IN√çCIO DA √ÅREA DE EDI√á√ÉO ---
        // DECK REDUZIDO APENAS COM AS 4 CARTAS SOLICITADAS
        const DECK = [
            { theme: "Ajuda e Suporte", icon: "hand-heart", iconColor: "text-blue-700", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/Ajuda_Suporte.jpg", situation: "<strong>O Dilema da Autossufici√™ncia:</strong> Clara sempre acreditou que pedir ajuda era um sinal de fraqueza. Ao enfrentar uma situa√ß√£o complexa no trabalho, ela tentou resolver tudo sozinha, ficando exausta e estressada. Finalmente, exausta, ela decide se abrir com um colega. --- O que a cren√ßa de 'ter que resolver tudo sozinho' estava protegendo? Para voc√™, pedir ajuda √© um ato de fraqueza ou de for√ßa? J√° houve um momento em que a vulnerabilidade de pedir ajuda resultou em um al√≠vio ou solu√ß√£o inesperada?" },
            { theme: "Metas e Persist√™ncia", icon: "target", iconColor: "text-yellow-700", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/Metas.jpg", situation: "<strong>A Supera√ß√£o do 'Eu N√£o Consigo':</strong> Jo√£o, ap√≥s uma tentativa falha de passar em um concurso, sentiu-se um fracasso e pensou em desistir. Ele estava fazendo uma generaliza√ß√£o ('Eu nunca vou passar'). Em vez de parar, ele reavaliou seu plano de estudos e prometeu a si mesmo ser mais consistente. --- Como a dor de um rev√©s pode ensinar sobre o seu objetivo? Como desafiar o pensamento 'eu n√£o consigo'? Qual √© a meta que te move, mesmo ap√≥s um fraco?" },
            { theme: "Coragem vs. Medo", icon: "crosshair", iconColor: "text-green-700", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/Coragem.jpg", situation: "<strong>A M√°scara da Coragem:</strong> Felipe tem uma ansiedade social intensa e, antes de apresenta√ß√µes importantes, ele sente a necessidade de criar um 'personagem' confiante para se proteger. Ele age apesar do medo. --- O que a 'm√°scara' ou 'personagem' est√° tentando evitar ou proteger? Como voc√™ v√™ a coragem? Pense em um momento em que voc√™ agiu apesar do medo. O que te deu for√ßas para dar o primeiro passo?" },
            { theme: "Autoaceita√ß√£o e Singularidade", icon: "star", iconColor: "text-pink-600", imageUrl: "https://cdn.jsdelivr.net/gh/gabriel20402/Jogos-terapeuticos@main/Autoaceita√ß√£o.jpg", situation: "<strong>A Diferen√ßa Aceita:</strong> Marina, que √© neurodivergente, lutou por anos para se encaixar em padr√µes que n√£o eram dela. A partir do momento em que ela entendeu e aceitou sua singularidade, sentiu-se mais livre e valorizada. --- Como a aceita√ß√£o dos outros impacta a forma como nos vemos? O que em voc√™ √© 'diferente' e que est√° aprendendo a amar ou celebrar? Qual √© a sua cren√ßa central sobre si mesmo?" }
        ];
        // --- FIM DA √ÅREA DE EDI√á√ÉO ---


        function openModal(index) {
            const data = DECK[index];
            const modalContent = document.getElementById('modal-content-area');
            const bottomArea = document.getElementById('modal-bottom-area');

            const parts = data.situation.split('---');
            const description = parts[0];
            const questions = parts[1].split('?').filter(q => q.trim() !== '');
            const questionsHtml = questions.map(q => `<li>${q.trim()}?</li>`).join('');

            // O CONTE√öDO DO MODAL (A PARTE DE TR√ÅS DA CARTA) N√ÉO FOI ALTERADO
            const dynamicContent = `
                <div class="text-center border-b-4 border-dashed border-[#88674b] pb-2">
                    <h2 class="font-brand text-4xl font-black text-[#5a3d2b]">CONCEITO</h2>
                </div>
                <div class="flex flex-col items-center my-4">
                    <i data-lucide="${data.icon}" class="w-16 h-16 ${data.iconColor} mb-2"></i>
                    <h3 class="font-brand text-3xl font-bold text-gray-800">${data.theme}</h3>
                </div>
                <div class="story-content">
                    <p class="font-lora text-base leading-relaxed mb-4">${description}</p>
                    <h4 class="font-lora text-xl font-bold text-[#8c5a2b] border-t border-[#d4b57f] pt-2 mt-4">Reflex√µes:</h4>
                    <ul class="question-list" style="font-family: 'Inter', sans-serif;">${questionsHtml}</ul>
                </div>
            `;
            
            modalContent.innerHTML = dynamicContent + bottomArea.outerHTML;
            document.getElementById('card-modal').classList.remove('hidden');
            lucide.createIcons();
        }

        function closeModal(event) {
            if (event.target.id === 'card-modal') {
                document.getElementById('card-modal').classList.add('hidden');
            }
        }
        
        function renderDeckPanel() {
            const panel = document.getElementById('deck-panel');
            if (!panel) return;

            panel.innerHTML = ''; 

            DECK.forEach((card, index) => {
                const cardWrapper = document.createElement('div');
                cardWrapper.className = 'card-preview';
                cardWrapper.onclick = () => openModal(index);
                cardWrapper.setAttribute('title', `Carta: ${card.theme}`); // Boa pr√°tica de acessibilidade

                // --- ESTA √â A PARTE MODIFICADA (O NOVO DESIGN DA FRENTE DA CARTA) ---
                const cardContent = `
                    <img src="${card.imageUrl}" alt="Carta: ${card.theme}" class="absolute inset-0 w-full h-full object-cover z-0" onerror="this.style.display='none'">
                    <div class="absolute inset-0 w-full h-full bg-[#fdf6e3] z-[-1]"></div> 
                    
                    <div class="absolute bottom-0 left-0 right-0 w-full p-2 z-10">
                        <div class="bg-[#fdf6e3] py-2 px-1" style="border-top: 3px solid #5a3d2b; border-bottom: 3px solid #5a3d2b;">
                            <h3 class="font-brand text-base md:text-lg font-bold text-[#4a2c2a] text-center uppercase">
                                ${card.theme}
                            </h3>
                        </div>
                    </div>
                `;
                // --- FIM DA PARTE MODIFICADA ---

                cardWrapper.innerHTML = cardContent;
                panel.appendChild(cardWrapper);
            });
            
            lucide.createIcons();
        }

        document.addEventListener('DOMContentLoaded', function() {
            renderDeckPanel();
            lucide.createIcons();
        });
    </script>
</body>
</html>
